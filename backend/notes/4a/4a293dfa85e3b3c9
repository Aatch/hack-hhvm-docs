111723|function.event-add|67|1363838374|zhaoyong dot lc at gmail dot com|VGhpcyBpcyBhIFRpbWVyIGV4YW1wbGUgdXNlIHBjbnRsIGFuZCBsaWJldmVudAoKZnVuY3Rpb24gbmV3Q2hpbGQoJGZ1bmNfbmFtZSkgewogICAgZWNobyAiZW50ZXIgbmV3Q2hpbGRcbiI7CiAgICAkYXJncyA9IGZ1bmNfZ2V0X2FyZ3MoKTsKICAgIHVuc2V0KCRhcmdzWzBdKTsKICAgICRwaWQgPSAgcGNudGxfZm9yaygpOwogICAgaWYgKCRwaWQgPT0gMCkgewogICAgICAgIGZ1bmN0aW9uX2V4aXN0cygkZnVuY19uYW1lKSBhbmQgZXhpdChjYWxsX3VzZXJfZnVuY19hcnJheSgkZnVuY19uYW1lLCAkYXJncykpIG9yIGV4aXQoLTEpOwogICAgfSBlbHNlIGlmKCRwaWQgPT0gLTEpIHsKICAgICAgICBlY2hvICJDb3VsZG4ndCBjcmVhdGUgY2hpbGQgcHJvY2VzcyI7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAkcGlkOwogICAgfQp9CgpmdW5jdGlvbiBvbl90aW1lcigpIHsKICAgIGVjaG8gInRpbWVyIGNhbGxlZFxuIjsKfQoKLyoqCiAqIEBwYXJhbSAkZnVuYyBzdHJpbmcsIGZ1bmN0aW9uIG5hbWUKICogQHBhcmFtICR0aW1lb3V0cyBpbnQsIG1pY3JvdGltZXMgZm9yIHRpbWUgZGVsYXkKICovCmZ1bmN0aW9uIHRpbWVyKCRmdW5jLCAkdGltZW91dHMpewoKICAgIGVjaG8gImVudGVyIHRpbWVyXG4iOwogICAgJGJhc2UgPSBldmVudF9iYXNlX25ldygpOwogICAgJGV2ZW50ID0gZXZlbnRfbmV3KCk7CgogICAgZXZlbnRfc2V0KCRldmVudCwgMCwgRVZfVElNRU9VVCwgJGZ1bmMpOwogICAgZXZlbnRfYmFzZV9zZXQoJGV2ZW50LCAkYmFzZSk7CiAgICBldmVudF9hZGQoJGV2ZW50LCAkdGltZW91dHMpOwoKICAgIGV2ZW50X2Jhc2VfbG9vcCgkYmFzZSk7Cn0KCiRwaWQgPSBuZXdDaGlsZCgidGltZXIiLCAib25fdGltZXIiLCA1MDAwMDAwKTsKCmlmICgkcGlkID4gMCkgewogICAgZWNobyAibWFzdGVyIHByb2Nlc3MgZXhpdFxuIjsKfQ==|2|1
