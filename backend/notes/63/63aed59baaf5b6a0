104152|function.imagexbm|0|1306415859|Anonymous|RmxhZ0NyZWF0aW9uIHdpdGggc29tZSByYW5kb20gdGV4dCBpbnNpZGUuCgo8P3BocApjbGFzcyBMb2dvewoJcHJpdmF0ZSAkY29sb3JzOwogICAgCXByaXZhdGUgJGltZ1dpZHRoOyAgCglwcml2YXRlICRpbWdIZWlnaHQ7ICAgCglwcml2YXRlICRpbWc7Cglwcml2YXRlICR0ZXh0OwoKCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkd2lkdGggPSAxMDAsICRoZWlnaHQgPSA2MCl7CgkJJHRoaXMtPmltZ1dpZHRoID0gJHdpZHRoOwoJCSR0aGlzLT5pbWdIZWlnaHQgPSAkaGVpZ2h0OwoJCSR0aGlzLT50ZXh0ID0gIlJORCBURVhUIjsKCQkkdGhpcy0+Y3JlYXRlSW1hZ2UoKTsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGdldFRleHQoKXsKCQlyZXR1cm4gJHRoaXMtPnRleHQ7Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBjcmVhdGVJbWFnZSgpewoJCSR0aGlzLT5pbWcgPSBpbWFnZWNyZWF0ZXRydWVjb2xvcigkdGhpcy0+aW1nV2lkdGgsJHRoaXMtPmltZ0hlaWdodCk7CgkJCSRmYXJiZSA9IGFycmF5KDIwMCwyMDAsMjAwKTsgCgkJCSR0aGlzLT5jb2xvcnNbMF0gPSAkdGhpcy0+bWFrZUNvbG9yKCRmYXJiZSk7CgkJCSRmYXJiZSA9IGFycmF5KDEwMCwxMDAsMjAwKTsgCgkJCSR0aGlzLT5jb2xvcnNbMV0gPSAkdGhpcy0+bWFrZUNvbG9yKCRmYXJiZSk7CgkJCgkJaW1hZ2VmaWxsKCR0aGlzLT5pbWcsMCwwLCR0aGlzLT5jb2xvcnNbMF0pOwoJCQkJCgkJJHN0cmVpZmVuaG9laGUgPSBpbnR2YWwoJHRoaXMtPmltZ0hlaWdodCAvIDYpOwkJCgkJJHRleHRncm9lc3NlID0gaW50dmFsKCRzdHJlaWZlbmhvZWhlICoyKTsKCQkkeSA9IDA7CgkJJHggPSAwOwoJCQoJCWltYWdlZmlsbGVkcmVjdGFuZ2xlKCR0aGlzLT5pbWcsMCwwLCR0aGlzLT5pbWdXaWR0aCwkc3RyZWlmZW5ob2VoZSwkdGhpcy0+Y29sb3JzWzFdKTsKCQkkeSA9ICR0aGlzLT5pbWdIZWlnaHQgLSAkc3RyZWlmZW5ob2VoZTsKCQlpbWFnZWZpbGxlZHJlY3RhbmdsZSgkdGhpcy0+aW1nLDAsJHksJHRoaXMtPmltZ1dpZHRoLCR0aGlzLT5pbWdIZWlnaHQsJHRoaXMtPmNvbG9yc1sxXSk7CgkJCgkJCgkJJHRleHRtYSA9IGltYWdldHRmYmJveCAoICR0ZXh0Z3JvZXNzZSAsMCAsICJBUklBTC5UVEYiLCAkdGhpcy0+dGV4dCk7CgkJJHRleHRhbmZhbmcgPSAoJHRoaXMtPmltZ1dpZHRoIC0gKCR0ZXh0bWFbMl0gLSAkdGV4dG1hWzBdKSkvMjsKCQkkdGV4dGFuZmFuZ19ob2VoZSA9IGludHZhbCgoJHRoaXMtPmltZ0hlaWdodC0oJHRleHRtYVs3XS0kdGV4dG1hWzFdKSkvMik7CgkJCgkJIGltYWdldHRmdGV4dCgkdGhpcy0+aW1nLCAkdGV4dGdyb2Vzc2UsMCwkdGV4dGFuZmFuZywgJHRleHRhbmZhbmdfaG9laGUsICR0aGlzLT5jb2xvcnNbMV0sIkFSSUFMLlRURiIsICR0aGlzLT50ZXh0KTsKCQkKCQkKCX0KCQoJcHVibGljIGZ1bmN0aW9uIG1ha2VDb2xvcigkY29sb3IpewoJCWlmIChjb3VudCgkY29sb3IpJTMgIT0gMCkKCQkJcmV0dXJuIGZhbHNlOwoJCWVsc2UKCQkJcmV0dXJuIGltYWdlY29sb3JhbGxvY2F0ZSgkdGhpcy0+aW1nLCRjb2xvclswXSwkY29sb3JbMV0sJGNvbG9yWzJdKTsKCX0KCQoJcHVibGljIGZ1bmN0aW9uIGdldEltYWdlKCl7CgkgCWhlYWRlcignQ29udGVudC1UeXBlOiBpbWFnZS9naWYnLCB0cnVlKTsgCgkJaW1hZ2VqcGVnKCR0aGlzLT5pbWcpOwoJfQkKfQoKJGxvZ28gPSBuZXcgTG9nbygzMDAsMTgwKTsKJGxvZ28tPmdldEltYWdlKCk7Cj8+||
