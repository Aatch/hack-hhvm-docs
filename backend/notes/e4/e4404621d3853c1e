106051|imagick.setimagematte|0|1317839582|martin at psinas dot com|SSBmb3VuZCB0aGlzIG1ldGhvZCBpcyBuZWVkZWQgd2hlbiBjcmVhdGluZyBhIGZvbnQgLyBpbWFnZSBtYXNrLCBhbmQgbmVlZHMgdG8gYmUgc2V0IHRvIGZhbHNlIG90aGVyd2lzZSB0aGUgbWFzayB3b24ndCB0YWtlIGVmZmVjdC4gSGVyZSBpcyBhbiBleGFtcGxlOgoKPD9waHAKCi8vIENyZWF0ZSBvYmplY3RzCiRpbWFnZSA9IG5ldyBJbWFnaWNrKCdteUltYWdlLnBuZycpOwokd2F0ZXJtYXJrID0gbmV3IEltYWdpY2soKTsKJG1hc2sgPSBuZXcgSW1hZ2ljaygpOwokZHJhdyA9IG5ldyBJbWFnaWNrRHJhdygpOwoKLy8gRGVmaW5lIGRpbWVuc2lvbnMKJHdpZHRoID0gJGltYWdlLT5nZXRJbWFnZVdpZHRoKCk7CiRoZWlnaHQgPSAkaW1hZ2UtPmdldEltYWdlSGVpZ2h0KCk7CgovLyBDcmVhdGUgc29tZSBwYWxldHRlcwokd2F0ZXJtYXJrLT5uZXdJbWFnZSgkd2lkdGgsICRoZWlnaHQsIG5ldyBJbWFnaWNrUGl4ZWwoJ2dyZXkzMCcpKTsKJG1hc2stPm5ld0ltYWdlKCR3aWR0aCwgJGhlaWdodCwgbmV3IEltYWdpY2tQaXhlbCgnYmxhY2snKSk7CgovLyBXYXRlcm1hcmsgdGV4dAokdGV4dCA9ICdDb3B5cmlnaHQnOwoKLy8gU2V0IGZvbnQgcHJvcGVydGllcwokZHJhdy0+c2V0Rm9udCgnQm9va21hbi1EZW1pJyk7CiRkcmF3LT5zZXRGb250U2l6ZSgyMCk7CiRkcmF3LT5zZXRGaWxsQ29sb3IoJ2dyZXk3MCcpOwoKLy8gUG9zaXRpb24gdGV4dAokZHJhdy0+c2V0R3Jhdml0eShJbWFnaWNrOjpHUkFWSVRZX1NPVVRIRUFTVCk7CgovLyBEcmF3IHRleHQgb24gdGhlIHdhdGVybWFyayBwYWxldHRlCiR3YXRlcm1hcmstPmFubm90YXRlSW1hZ2UoJGRyYXcsIDEwLCAxMiwgMCwgJHRleHQpOwoKLy8gRHJhdyB0ZXh0IG9uIHRoZSBtYXNrIHBhbGV0dGUKJGRyYXctPnNldEZpbGxDb2xvcignd2hpdGUnKTsKJG1hc2stPmFubm90YXRlSW1hZ2UoJGRyYXcsIDExLCAxMywgMCwgJHRleHQpOwokbWFzay0+YW5ub3RhdGVJbWFnZSgkZHJhdywgMTAsIDEyLCAwLCAkdGV4dCk7CiRkcmF3LT5zZXRGaWxsQ29sb3IoJ2JsYWNrJyk7CiRtYXNrLT5hbm5vdGF0ZUltYWdlKCRkcmF3LCA5LCAxMSwgMCwgJHRleHQpOwoKLy8gVGhpcyBpcyBhcHBhcmVudGx5IG5lZWRlZCBmb3IgdGhlIG1hc2sgdG8gd29yawokbWFzay0+c2V0SW1hZ2VNYXR0ZShmYWxzZSk7CgovLyBBcHBseSBtYXNrIHRvIHdhdGVybWFyawokd2F0ZXJtYXJrLT5jb21wb3NpdGVJbWFnZSgkbWFzaywgSW1hZ2ljazo6Q09NUE9TSVRFX0NPUFlPUEFDSVRZLCAwLCAwKTsKCi8vIE92ZXJsYXkgd2F0ZXJtYXJrIG9uIGltYWdlCiRpbWFnZS0+Y29tcG9zaXRlSW1hZ2UoJHdhdGVybWFyaywgSW1hZ2ljazo6Q09NUE9TSVRFX0RJU1NPTFZFLCAwLCAwKTsKCi8vIFNldCBvdXRwdXQgaW1hZ2UgZm9ybWF0CiRpbWFnZS0+c2V0SW1hZ2VGb3JtYXQoJ3BuZycpOwoKLy8gT3V0cHV0IHRoZSBuZXcgaW1hZ2UKaGVhZGVyKCdDb250ZW50LXR5cGU6IGltYWdlL3BuZycpOwplY2hvICRpbWFnZTsKCj8+||
