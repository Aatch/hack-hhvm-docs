113101|intro.imap|50|1377783018|scott at scottgurley dot com|VGhhbmtzIFdpbCBCYXJhdGggZm9yIHRoZSBncmVhdCBzY3JpcHQgLSB3aXRoIHBocDUuMyBJIHJhbiBpbnRvIGFuIGlzc3VlIC0gaW1hcF9vcGVuIGlzIHRyaWdnZXJpbmcgYSBub3RpY2Ugd2hpY2gsIGluIG15IGNhc2UsIGlzIHRyaWdnZXJpbmcgdGhlIHNjcmlwdCB0byBlbmQgYW5kIGdpdmluZyBtZSBhIFVua25vd246IE1haWxib3ggaXMgZW1wdHkgKGVycmZsZz0xKSBlcnJvci4gVG8gZml4IHRoYXQsIGFkZCAiT1BfU0lMRU5UIiB0byB0aGUgaW1hcF9vcGVuIGxpbmUgdG8gbWFrZSBpdDoKcmV0dXJuIChpbWFwX29wZW4oInsiLiIkaG9zdDokcG9ydC9wb3AzJHNzbCIuIn0kZm9sZGVyIiwkdXNlciwkcGFzcyxPUF9TSUxFTlQpKTs=|2|2
96415|intro.imap|52|1267127910|Wil Barath|Rm9yIGFsbCB0aGUgcGVvcGxlIGNvbWluZyBoZXJlIHByYXlpbmcgZm9yOgoKMSkgYSBkZWFkLWVhc3kgd2F5IHRvIHJlYWQgTUlNRSBhdHRhY2htZW50cywgb3IKMikgYSBkZWFkLWVhc3kgd2F5IHRvIGFjY2VzcyBQT1AzIGZvbGRlcnMKCkxvb2sgbm8gZnVydGhlci4KCjw/cGhwIApmdW5jdGlvbiBwb3AzX2xvZ2luKCRob3N0LCRwb3J0LCR1c2VyLCRwYXNzLCRmb2xkZXI9IklOQk9YIiwkc3NsPWZhbHNlKQp7Cgkkc3NsPSgkc3NsPT1mYWxzZSk/Ii9ub3ZhbGlkYXRlLWNlcnQiOiIiOwoJcmV0dXJuIChpbWFwX29wZW4oInsiLiIkaG9zdDokcG9ydC9wb3AzJHNzbCIuIn0kZm9sZGVyIiwkdXNlciwkcGFzcykpOwp9CmZ1bmN0aW9uIHBvcDNfc3RhdCgkY29ubmVjdGlvbikJCQp7CgkkY2hlY2sgPSBpbWFwX21haWxib3htc2dpbmZvKCRpbWFwKTsKCXJldHVybiAoKGFycmF5KSRjaGVjayk7Cn0KZnVuY3Rpb24gcG9wM19saXN0KCRjb25uZWN0aW9uLCRtZXNzYWdlPSIiKQp7CglpZiAoJG1lc3NhZ2UpCgl7CgkJJHJhbmdlPSRtZXNzYWdlOwoJfSBlbHNlIHsKCQkkTUMgPSBpbWFwX2NoZWNrKCRtYm94KTsKCQkkcmFuZ2UgPSAiMToiLiRNQy0+Tm1zZ3M7Cgl9CgkkcmVzcG9uc2UgPSBpbWFwX2ZldGNoX292ZXJ2aWV3KCRtYm94LCRyYW5nZSk7Cglmb3JlYWNoICgkcmVzcG9uc2UgYXMgJG1zZykgJHJlc3VsdFskbXNnLT5tc2dub109KGFycmF5KSRtc2c7Cn0KZnVuY3Rpb24gcG9wM19yZXRyKCRjb25uZWN0aW9uLCRtZXNzYWdlKQp7CglyZXR1cm4oaW1hcF9mZXRjaGhlYWRlcigkY29ubmVjdGlvbiwkbWVzc2FnZSxGVF9QUkVGRVRDSFRFWFQpKTsKfQpmdW5jdGlvbiBwb3AzX2RlbGUoJGNvbm5lY3Rpb24sJG1lc3NhZ2UpCnsKCXJldHVybihpbWFwX2RlbGV0ZSgkY29ubmVjdGlvbiwkbWVzc2FnZSkpOwp9CmZ1bmN0aW9uIG1haWxfcGFyc2VfaGVhZGVycygkaGVhZGVycykKewoJJGhlYWRlcnM9cHJlZ19yZXBsYWNlKCcvXHJcblxzKy9tJywgJycsJGhlYWRlcnMpOwoJcHJlZ19tYXRjaF9hbGwoJy8oW146IF0rKTogKC4rPyg/OlxyXG5ccyg/Oi4rPykpKik/XHJcbi9tJywgJGhlYWRlcnMsICRtYXRjaGVzKTsKCWZvcmVhY2ggKCRtYXRjaGVzWzFdIGFzICRrZXkgPT4kdmFsdWUpICRyZXN1bHRbJHZhbHVlXT0kbWF0Y2hlc1syXVska2V5XTsKCXJldHVybigkcmVzdWx0KTsKfQpmdW5jdGlvbiBtYWlsX21pbWVfdG9fYXJyYXkoJGltYXAsJG1pZCwkcGFyc2VfaGVhZGVycz1mYWxzZSkKewoJJG1haWwgPSBpbWFwX2ZldGNoc3RydWN0dXJlKCRpbWFwLCRtaWQpOwoJJG1haWwgPSBtYWlsX2dldF9wYXJ0cygkaW1hcCwkbWlkLCRtYWlsLDApOwoJaWYgKCRwYXJzZV9oZWFkZXJzKSAkbWFpbFswXVsicGFyc2VkIl09bWFpbF9wYXJzZV9oZWFkZXJzKCRtYWlsWzBdWyJkYXRhIl0pOwoJcmV0dXJuKCRtYWlsKTsKfQpmdW5jdGlvbiBtYWlsX2dldF9wYXJ0cygkaW1hcCwkbWlkLCRwYXJ0LCRwcmVmaXgpCnsJCgkkYXR0YWNobWVudHM9YXJyYXkoKTsKCSRhdHRhY2htZW50c1skcHJlZml4XT1tYWlsX2RlY29kZV9wYXJ0KCRpbWFwLCRtaWQsJHBhcnQsJHByZWZpeCk7CglpZiAoaXNzZXQoJHBhcnQtPnBhcnRzKSkgLy8gbXVsdGlwYXJ0Cgl7CgkJJHByZWZpeCA9ICgkcHJlZml4ID09ICIwIik/IiI6IiRwcmVmaXguIjsKCQlmb3JlYWNoICgkcGFydC0+cGFydHMgYXMgJG51bWJlcj0+JHN1YnBhcnQpIAoJCQkkYXR0YWNobWVudHM9YXJyYXlfbWVyZ2UoJGF0dGFjaG1lbnRzLCBtYWlsX2dldF9wYXJ0cygkaW1hcCwkbWlkLCRzdWJwYXJ0LCRwcmVmaXguKCRudW1iZXIrMSkpKTsKCX0KCXJldHVybiAkYXR0YWNobWVudHM7Cn0KZnVuY3Rpb24gbWFpbF9kZWNvZGVfcGFydCgkY29ubmVjdGlvbiwkbWVzc2FnZV9udW1iZXIsJHBhcnQsJHByZWZpeCkKewoJJGF0dGFjaG1lbnQgPSBhcnJheSgpOwoKCWlmKCRwYXJ0LT5pZmRwYXJhbWV0ZXJzKSB7CgkJZm9yZWFjaCgkcGFydC0+ZHBhcmFtZXRlcnMgYXMgJG9iamVjdCkgewoJCQkkYXR0YWNobWVudFtzdHJ0b2xvd2VyKCRvYmplY3QtPmF0dHJpYnV0ZSldPSRvYmplY3QtPnZhbHVlOwoJCQlpZihzdHJ0b2xvd2VyKCRvYmplY3QtPmF0dHJpYnV0ZSkgPT0gJ2ZpbGVuYW1lJykgewoJCQkJJGF0dGFjaG1lbnRbJ2lzX2F0dGFjaG1lbnQnXSA9IHRydWU7CgkJCQkkYXR0YWNobWVudFsnZmlsZW5hbWUnXSA9ICRvYmplY3QtPnZhbHVlOwoJCQl9CgkJfQoJfQoKCWlmKCRwYXJ0LT5pZnBhcmFtZXRlcnMpIHsKCQlmb3JlYWNoKCRwYXJ0LT5wYXJhbWV0ZXJzIGFzICRvYmplY3QpIHsKCQkJJGF0dGFjaG1lbnRbc3RydG9sb3dlcigkb2JqZWN0LT5hdHRyaWJ1dGUpXT0kb2JqZWN0LT52YWx1ZTsKCQkJaWYoc3RydG9sb3dlcigkb2JqZWN0LT5hdHRyaWJ1dGUpID09ICduYW1lJykgewoJCQkJJGF0dGFjaG1lbnRbJ2lzX2F0dGFjaG1lbnQnXSA9IHRydWU7CgkJCQkkYXR0YWNobWVudFsnbmFtZSddID0gJG9iamVjdC0+dmFsdWU7CgkJCX0KCQl9Cgl9CgoJJGF0dGFjaG1lbnRbJ2RhdGEnXSA9IGltYXBfZmV0Y2hib2R5KCRjb25uZWN0aW9uLCAkbWVzc2FnZV9udW1iZXIsICRwcmVmaXgpOwoJaWYoJHBhcnQtPmVuY29kaW5nID09IDMpIHsgLy8gMyA9IEJBU0U2NAoJCSRhdHRhY2htZW50WydkYXRhJ10gPSBiYXNlNjRfZGVjb2RlKCRhdHRhY2htZW50WydkYXRhJ10pOwoJfQoJZWxzZWlmKCRwYXJ0LT5lbmNvZGluZyA9PSA0KSB7IC8vIDQgPSBRVU9URUQtUFJJTlRBQkxFCgkJJGF0dGFjaG1lbnRbJ2RhdGEnXSA9IHF1b3RlZF9wcmludGFibGVfZGVjb2RlKCRhdHRhY2htZW50WydkYXRhJ10pOwoJfQoJcmV0dXJuKCRhdHRhY2htZW50KTsKfQo/Pg==|11|10
