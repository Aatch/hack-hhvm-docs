27362|function.domdocument-get-element-by-id|0|1038901866|etienne dot anken at eivd dot ch|VGhpcyBjbGFzcyBpcyB1c2VmdWwgZm9yIHBlb3BsZSB3aG8gaGF2ZW4ndCB0aGUgbGF0ZXN0IHJlbGVhc2Ugb2YgUEhQIGFuZCB3b3VsZCBsaWtlIHRvIHNlYXJjaCBhbiBlbGVtZW50IHdpdGggYSBrbm93biBJRCB0aHJvdWdoIGEgY29sbGVjdGlvbiBvZiBub2Rlcy4KCkV4YW1wbGUgdG8gdXNlIGl0IDoKCiRkb21Eb2MgPSB4bWxkb2MoIjxyb290PjxlbnRpdHkgaWQ9J2UxJz48L2VudGl0eT48ZW50aXR5IGlkPSdlMic+PHRpdGkgaWQ9J2U1Jz48L3RpdGk+PC9lbnRpdHk+PC9yb290PiIpOwoJCiRyb290ID0gJGRvbURvYy0+cm9vdCgpOwokY2hpbGRyZW4gPSAkcm9vdC0+Y2hpbGRfbm9kZXMoKTsKCQokcmVzZWFyY2hPYmplY3QgPSBuZXcgc2VhcmNoRWxlbWVudEJ5SWQoImU1IiwgJGNoaWxkcmVuKTsKJHJlc3VsdEVsZW1lbnQgPSAkcmVzZWFyY2hPYmplY3QtPmJlZ2luU2VhcmNoaW5nKCk7CgpUaGUgc291cmNlIG9mIHRoZSBjbGFzcyA6CgpjbGFzcyBzZWFyY2hFbGVtZW50QnlJZCB7CgkJCiAgLy9DbGFzcyB3aGljaCBjYW4gZmluZCBhbmQgcmV0dXJuIGFuIFhNTCBub2RlIHdpdGggYSBzcGVjaWZpZWQgSUQKICB2YXIgJG51bWJlckVsZW1lbnRzPTA7CiAgdmFyICRudW1iZXJBdHRyaWJ1dGVzPTA7CiAgdmFyICRpZFRvRmluZDsKICB2YXIgJHRhYkVsZW1lbnRzOwoJCQogIC8vSW5pdGlhbGl6YXRpb24gZnVuY3Rpb24gd2hpY2ggYWNjZXB0IDIgcGFyYW1ldGVycyA6CiAgLy8kcGFyYW1JZFRvRmluZCA6IHZhbHVlIG9mIHRoZSBJRCB0byBmaW5kCiAgLy8kcGFyYW1UYWJFbGVtZW50cyA6IGFycmF5IG9mIG5vZGVzIHdoaWNoIGNvbnRhaW5zIHRoZSBlbGVtZW50IHRvIGZpbmQKICBmdW5jdGlvbiBzZWFyY2hFbGVtZW50QnlJZCgkcGFyYW1JZFRvRmluZCwgJHBhcmFtVGFiRWxlbWVudHMpIHsKICAgIC8vSW5pdGlhbGl6YXRpb24gb2YgY2xhc3MgdmFyaWFibGVzCiAgICAkdGhpcy0+aWRUb0ZpbmQgPSAkcGFyYW1JZFRvRmluZDsKICAgICR0aGlzLT50YWJFbGVtZW50cyA9ICRwYXJhbVRhYkVsZW1lbnRzOwogIH0KCQogIC8vRnVuY3Rpb24gc3RhcnRpbmcgdGhlIHJlc2VhcmNoCiAgZnVuY3Rpb24gYmVnaW5TZWFyY2hpbmcoKSB7CiAgICAvL1NlYXJjaCBhbmQgcmV0dXJuIHRoZSBlbGVtZW50IGZvdW5kCiAgICByZXR1cm4gJHRoaXMtPnNlYXJjaElEKCR0aGlzLT50YWJFbGVtZW50cyk7CiAgfQoJCQogIC8vUmVjdXJzaXZlIGZ1bmN0aW9uIHNlYXJjaGluZyB0aGUgZGVzaXJlZCBub2RlCiAgZnVuY3Rpb24gc2VhcmNoSUQoJHRhYkVsZW1lbnRzKSB7CgkKICAgIC8vVmFyaWFibGUgb2YgdGhlIG51bWJlciBvZiBlbGVtZW50cwogICAgJGkgPSAwOwogICAgLy9WYXJpYWJsZSBvZiB0aGUgbnVtYmVyIG9mIGF0dHJpYnV0ZXMKICAgICRqID0gMDsKCQogICAgLy9OdW1iZXIgb2Ygbm9kZXMgaW4gdGhlIGVsZW1lbnRzJyBhcnJheQogICAgJG5icmVOb2V1ZHMgPSBjb3VudCgkdGFiRWxlbWVudHMpOwoJCQkJCQogICAgLy9Mb29wIG9uIGFsbCBlbGVtZW50cwogICAgZm9yICgkaT0wOyRpPCRuYnJlTm9ldWRzOyRpKyspIHsKCQkJCQogICAgICAvL0luY3JlbWVudGF0aW9uIG9mIHRoZSBjbGFzcyB2YXJpYWJsZSBjb3V0aW5nIHRoZSB0b3RhbCBudW1iZXIgb2YgZWxlbWVudHMKICAgICAgJHRoaXMtPmNvbXB0ZXVyRWxlbWVudHMrKzsKCQkJCQogICAgICAvL0V4dHJhY3Rpb24gb2YgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGN1cnJlbnQgZWxlbWVudAogICAgICAkdGFiQXR0cmlidXRzID0gJHRhYkVsZW1lbnRzWyRpXS0+YXR0cmlidXRlcygpOwogICAgICAvL051bWJlciBvZiBhdHRyaWJ1dGVzIGluIHRoZSBjdXJyZW50IGVsZW1lbnQKICAgICAgJG5icmVBdHRyaWJ1dHMgPSBjb3VudCgkdGFiQXR0cmlidXRzKTsKICAgICAgLy9Mb29wIG9uIGFsbCBhdHRyaWJ1dGVzCiAgICAgIGZvciAoJGo9MDskajwkbmJyZUF0dHJpYnV0czskaisrKSB7CgkJCQkJCiAgICAgICAgLy9JbmNyZW1lbnRhdGlvbiBvZiB0aGUgY2xhc3MgdmFyaWFibGUgY291dGluZyB0aGUgdG90YWwgbnVtYmVyIG9mIGF0dHJpYnV0ZXMKICAgICAgICAkdGhpcy0+bnVtYmVyQXR0cmlidXRlcysrOwoKICAgICAgICAvL1Rlc3QgaWYgdGhlIGN1cnJlbnQgYXR0cmlidXRlIGlzIHRoZSBhdHRyaWJ1dGUgdG8gZmluZAogICAgICAgIGlmICgkdGFiQXR0cmlidXRzWyRqXS0+dmFsdWU9PSR0aGlzLT5pZFRvRmluZCkgewogICAgICAgICAgLy9JZiB5ZXMsIHJldHVybiB0aGUgY3VycmVudCBlbGVtZW50CiAgICAgICAgICByZXR1cm4gJHRhYkVsZW1lbnRzWyRpXTsKICAgICAgICB9CgkJCQkJCiAgICAgIH0KCQkJCQogICAgICAvL1NlYXJjaCBjaGlsZHJlbiBub2RlcyBvZiB0aGUgY3VycmVudCBlbGVtZW50CiAgICAgICRjaGlsZHJlbiA9ICR0YWJFbGVtZW50c1skaV0tPmNoaWxkX25vZGVzKCk7CiAgICAgIGlmICghaXNfYm9vbCgkY2hpbGRyZW4pKSB7CiAgICAgICAgLy9JZiB0aGUgY3VycmVudCBlbGVtZW50IGhhcyBjaGlsZHJlbiwgY2FsbCByZWN1cnNpdmVseSB0aGlzIGZ1bmN0aW9uCiAgICAgICAgJHJlc3VsdCA9ICR0aGlzLT5zZWFyY2hJRCgkY2hpbGRyZW4pOwogICAgICAgIC8vSWYgdGhlIHJlc3VsdCBpcyBub3QgYm9vbGVhbiwgcmV0dXJuIHRoZSBhcnJheQogICAgICAgIGlmICghaXNfYm9vbCgkcmVzdWx0KSkgewogICAgICAgICAgcmV0dXJuICRyZXN1bHQ7CiAgICAgICAgfQkJCQkKICAgICAgfQogICAgfQoJCQkKICAgIHJldHVybiBmYWxzZTsKCQogIH0KCQkKfQ==||
